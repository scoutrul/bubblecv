# Tech Context - Bubbles Resume

## üèóÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

#### Frontend Stack
- **Framework**: Vue 3.4+
- **–°–±–æ—Ä–∫–∞**: Vite 5.x
- **–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è**: Tailwind CSS 3.x
- **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**: D3.js 7.x
- **–°—Ç–µ–π—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä**: Pinia 2.x
- **–ê–Ω–∏–º–∞—Ü–∏–∏**: GSAP 3.x
- **–¢–∏–ø–∏–∑–∞—Ü–∏—è**: TypeScript 5.x

#### Backend Stack
- **–°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: Node.js 20+
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQLite 3 + better-sqlite3
- **API**: Express.js

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —è–≤–ª—è–µ—Ç—Å—è —ç–≤–æ–ª—é—Ü–∏–µ–π FSD (Feature-Sliced Design), –Ω–æ –≤ —Ö–æ–¥–µ –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ **–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥** –≤ —Å—Ç–æ—Ä–æ–Ω—É –±–æ–ª–µ–µ –≥–∏–±–∫–æ–π, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

### –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Frontend (`src/`)
```
src/
‚îú‚îÄ‚îÄ entities/           # –ë–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–∏ (bubble, user-session)
‚îú‚îÄ‚îÄ features/           # –ë–∏–∑–Ω–µ—Å-—Ñ—É–Ω–∫—Ü–∏–∏ (achievements, gamification)
‚îú‚îÄ‚îÄ widgets/            # –°–æ—Å—Ç–∞–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (bubble-canvas, game-hud)
‚îú‚îÄ‚îÄ shared/             # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥ (UI-–∫–∏—Ç, –∫–æ–Ω—Ñ–∏–≥–∏, —Ç–∏–ø—ã, API)
‚îî‚îÄ‚îÄ App.vue             # –ö–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îî‚îÄ‚îÄ main.ts             # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
```

### –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Backend (`server/`)
```
server/
‚îú‚îÄ‚îÄ data/               # JSON-—Ñ–∞–π–ª—ã —Å –¥–∞–Ω–Ω—ã–º–∏
‚îú‚îÄ‚îÄ constants/          # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îú‚îÄ‚îÄ index.ts            # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞
‚îî‚îÄ‚îÄ types.ts            # –¢–∏–ø—ã –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞
```

---

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö (Data Flow)

1.  **–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**: –ö–ª–∏–µ–Ω—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —É —Å–µ—Ä–≤–µ—Ä–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –±–∞–Ω–¥–ª.
2.  **–ó–∞–ø—Ä–æ—Å –ø—É–∑—ã—Ä–µ–π**: `bubble-store` –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ `/api/bubbles`.
3.  **–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞**: –°–µ—Ä–≤–µ—Ä —Å–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ —Ç–∏–ø—ã –ø—É–∑—ã—Ä–µ–π (–æ–±—ã—á–Ω—ã–µ, —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–µ –∏ —Ç.–¥.) –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ –µ–¥–∏–Ω—ã–π –º–∞—Å—Å–∏–≤ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç—É.
4.  **–†–µ–Ω–¥–µ—Ä–∏–Ω–≥**: `BubbleCanvas` –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ `bubble-store` –∏ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –ø—É–∑—ã—Ä–∏ —Å –ø–æ–º–æ—â—å—é D3.js.
5.  **–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ**: 
    - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ –ø—É–∑—ã—Ä—å.
    - `BubbleCanvas` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –ø—É–∑—ã—Ä—è.
    - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ (`BubbleModal`, `PhilosophyModal` –∏ —Ç.–¥.).
6.  **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è**:
    - –û—Ç–≤–µ—Ç—ã –Ω–∞ —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã, –ø—Ä–æ—Å–º–æ—Ç—Ä—ã, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ–ø—ã—Ç —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `session-store`.
    - –î–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º.

---

## üß© –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è

### –ï–¥–∏–Ω—ã–π —Ç–∏–ø –ø—É–∑—ã—Ä—è
- **–ü—Ä–æ–±–ª–µ–º–∞**: –†–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—É–∑—ã—Ä–µ–π —É—Å–ª–æ–∂–Ω—è–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É.
- **–†–µ—à–µ–Ω–∏–µ**: –í—Å–µ –ø—É–∑—ã—Ä–∏ —Ç–µ–ø–µ—Ä—å –∏–º–µ—é—Ç –±–∞–∑–æ–≤—ã–π —Ç–∏–ø `Bubble` –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–¥—Ç–∏–ø–∞ (`question`, `options` –¥–ª—è —Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏—Ö –∏ —Ç.–¥.). –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫—É –∏ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ, –∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

### –ö–æ–º–ø–æ–∑–∏—Ü–∏–æ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ (Composables)
- –õ–æ–≥–∏–∫–∞ —Ñ–∏–∑–∏–∫–∏ (`usePhysicsSimulation`), —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ (`useCanvasRenderer`) –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (`useCanvasInteraction`) –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ composables –≤ `src/widgets/bubble-canvas/composables/`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `BubbleCanvas.vue` —á–∏—Å—Ç—ã–º –∏ —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏.

### –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **Pinia** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º:
  - `bubble-store`: —Ö—Ä–∞–Ω–∏—Ç –≤—Å–µ –ø—É–∑—ã—Ä–∏, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞.
  - `session-store`: —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–µ—Å—Å–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (XP, –∂–∏–∑–Ω–∏, –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ –ø—É–∑—ã—Ä–∏, –æ—Ç–≤–µ—Ç—ã).
  - `modal-store`: —É–ø—Ä–∞–≤–ª—è–µ—Ç –æ—á–µ—Ä–µ–¥—å—é –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω. 