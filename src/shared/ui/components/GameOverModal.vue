<template>
  <div 
    v-if="isOpen"
    class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm"
    @click.self="$emit('close')"
  >
    <div class="bg-surface border border-border rounded-2xl p-8 max-w-md w-full mx-4 text-center">
      <!-- –ò–∫–æ–Ω–∫–∞ —á–µ—Ä–µ–ø–∞ –∏–ª–∏ –∫—Ä–µ—Å—Ç–∏–∫–∞ -->
      <div class="mb-6">
        <div class="w-20 h-20 mx-auto bg-red-500/20 rounded-full flex items-center justify-center">
          <svg class="w-10 h-10 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                  d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </div>
      </div>

      <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
      <h2 class="text-2xl font-bold text-text-primary mb-4">
        Game Over
      </h2>

      <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ -->
      <p class="text-text-secondary mb-6 leading-relaxed">
        –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –º—ã —Å –≤–∞–º–∏ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ–º—Å—è. 
        <br>
        –ù–æ –Ω–µ —Ä–∞—Å—Å—Ç—Ä–∞–∏–≤–∞–π—Ç–µ—Å—å - –∫–∞–∂–¥–∞—è –Ω–µ—É–¥–∞—á–∞ –¥–µ–ª–∞–µ—Ç –Ω–∞—Å —Å–∏–ª—å–Ω–µ–µ!
      </p>

      <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
      <div class="bg-background/50 rounded-lg p-4 mb-6">
        <div class="grid grid-cols-2 gap-4 text-sm">
          <div>
            <div class="text-text-muted">–ù–∞–±—Ä–∞–Ω–æ XP</div>
            <div class="text-text-primary font-semibold">{{ currentXP }}</div>
          </div>
          <div>
            <div class="text-text-muted">–î–æ—Å—Ç–∏–≥–Ω—É—Ç —É—Ä–æ–≤–µ–Ω—å</div>
            <div class="text-text-primary font-semibold">{{ currentLevel }}</div>
          </div>
        </div>
      </div>

      <!-- –ö–Ω–æ–ø–∫–∏ -->
      <div class="flex flex-col gap-3">
        <button
          @click="$emit('restart')"
          class="px-6 py-3 bg-primary text-white rounded-lg font-medium
                 hover:bg-primary-dark transition-colors duration-200
                 focus:outline-none focus:ring-2 focus:ring-primary/50"
        >
          üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ —Å {{ restartYear }} –≥–æ–¥–∞
        </button>
        
        <button
          @click="$emit('close')"
          class="px-6 py-2 text-text-secondary hover:text-text-primary
                 transition-colors duration-200"
        >
          –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
        </button>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { GAME_CONFIG } from '../../config/game-config'

interface Props {
  isOpen: boolean
  currentXP: number
  currentLevel: number
}

defineProps<Props>()

defineEmits<{
  close: []
  restart: []
}>()

const restartYear = GAME_CONFIG.RESTART_YEAR
</script>

<style scoped>
/* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –µ—Å–ª–∏ –Ω—É–∂–Ω—ã */
</style> 